<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>å´æ—æ´‹çš„ä¸ªäººç½‘ç«™</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Comic Sans MS", "å¹¼åœ†", "å¾®è½¯é›…é»‘", sans-serif;
    }

    /* ä¸»é¢˜åˆ‡æ¢æŒ‰é’® */
    #themeToggle {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 999;
      padding: 8px 15px;
      border-radius: 20px;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      color: #333;
      cursor: pointer;
      font-size: 0.8rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
    }

    #themeToggle:hover {
      background: #4299e1;
      color: white;
    }

    /* æš—é»‘ä¸»é¢˜æ ·å¼ */
    body.dark-theme {
      --bg-mask: linear-gradient(90deg, rgba(10, 15, 25, 0.8), rgba(15, 20, 35, 0.8));
      --card-bg: rgba(30, 35, 50, 0.9);
      --text-color: #e0e0e0;
      --light-text: #aaa;
      --border-color: #444;
      --accent-color: #7472FE;
    }

    /* äº®è‰²ä¸»é¢˜æ ·å¼ï¼ˆé»˜è®¤ï¼‰ */
    body.light-theme {
      --bg-mask: linear-gradient(90deg, rgba(245, 250, 255, 0.4), rgba(250, 245, 255, 0.4));
      --card-bg: rgba(255, 255, 255, 0.9);
      --text-color: #333;
      --light-text: #666;
      --border-color: #e9ecef;
      --accent-color: #6a89cc;
    }

    /* å¯†ç éªŒè¯å±‚æ ·å¼ */
    #passwordModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    #passwordInput {
      padding: 10px 18px;
      font-size: 16px;
      border: 2px solid #ddd;
      border-radius: 8px;
      margin-bottom: 15px;
      width: 280px;
      text-align: center;
    }

    #enterBtn {
      padding: 10px 35px;
      font-size: 16px;
      background-color: #4299e1;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    #enterBtn:hover {
      background-color: #3182ce;
    }

    #errorMsg {
      color: red;
      margin-top: 10px;
      font-size: 14px;
    }

    /* äºŒçº§ç½‘ç«™å¯†ç éªŒè¯å±‚ï¼ˆç‹¬ç«‹ç•Œé¢ï¼‰ */
    #secondPasswordModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #6a89cc, #82ccdd, #b8e986);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    #secondPasswordInput {
      padding: 12px 20px;
      font-size: 18px;
      border: 2px solid #fff;
      border-radius: 10px;
      margin-bottom: 20px;
      width: 300px;
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      color: #333;
    }

    #secondEnterBtn {
      padding: 12px 40px;
      font-size: 18px;
      background-color: #fff;
      color: #6a89cc;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: bold;
    }

    #secondEnterBtn:hover {
      background-color: #f0f8ff;
      transform: scale(1.05);
    }

    #secondErrorMsg {
      color: #fff;
      margin-top: 15px;
      font-size: 16px;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    }

    #secondLockTip {
      color: #fff;
      margin-top: 10px;
      font-size: 14px;
      display: none;
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
    }

    /* äºŒçº§ç½‘ç«™é¡µé¢æ ·å¼ */
    #secondWebsite {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9998;
    }

    .congrats-text {
      font-size: 4rem;
      font-weight: bold;
      background: linear-gradient(90deg, #ffeb3b, #4caf50, #2196f3, #9c27b0, #ffeb3b);
      background-size: 400% 400%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: gradientAnimation 8s ease infinite;
      text-align: center;
      padding: 20px;
    }

    /* åŠ è½½åŠ¨ç”»å±‚æ ·å¼ - èµ›åšæœ‹å…‹é£æ ¼ */
    #loadingOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 1;
    }

    .loading-text {
      color: #999;
      font-size: 1.5rem;
      margin-bottom: 30px;
      letter-spacing: 2px;
      text-transform: uppercase;
      font-family: 'Courier New', monospace;
    }

    /* èµ›åšæœ‹å…‹è¿›åº¦æ¡æ ·å¼ - ä¼˜åŒ–è¿›åº¦ç™¾åˆ†æ¯”ä½ç½® */
    .progress-wrapper {
      width: 70%;
      max-width: 600px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .progress-percent {
      color: #fff;
      font-size: 1rem;
      font-weight: bold;
      text-shadow: 0 0 10px #0ff;
      font-family: 'Courier New', monospace;
      min-width: 40px;
      text-align: right;
    }

    .progress-container {
      flex: 1;
      height: 25px;
      background: #111;
      border: 1px solid #0ff;
      border-radius: 0;
      overflow: hidden;
      position: relative;
      box-shadow: 0 0 15px rgba(0, 255, 255, 0.3), inset 0 0 10px rgba(0, 100, 100, 0.5);
    }

    .progress-bar {
      width: 0%;
      height: 100%;
      background: linear-gradient(90deg, #0ff, #f0f, #0ff);
      background-size: 200% 100%;
      animation: progressGlow 1.5s linear infinite;
      position: relative;
      transition: width 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }

    @keyframes progressGlow {
      0% {
        background-position: 0% 0%;
      }

      100% {
        background-position: 200% 0%;
      }
    }

    .welcome-text {
      color: #fff;
      font-size: 4rem;
      font-weight: bold;
      opacity: 0;
      transition: opacity 5s ease;
      position: absolute;
      text-shadow: 0 0 20px #0ff, 0 0 40px #0ff;
      font-family: 'Courier New', monospace;
    }

    /* é¡µé¢ä¸»ä½“æ ·å¼ */
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 50px 20px 80px;
      background: url("https://picsum.photos/id/186/1920/1080") no-repeat center center fixed;
      background-size: cover;
      position: relative;
      overflow-x: hidden;
      gap: 40px;
      transition: all 0.5s ease;
      opacity: 1;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-mask);
      background-size: 400% 400%;
      animation: maskGradient 8s ease infinite;
      z-index: -1;
    }

    /* æ ‡é¢˜æ ·å¼ - å°å†™ */
    .title {
      font-size: 2.2rem;
      margin: 0;
      color: #6a89cc;
      text-align: center;
      line-height: 1.2;
      text-transform: lowercase;
    }

    /* å¯ç‚¹å‡»çš„youæ ·å¼ */
    .clickable-you {
      color: inherit;
      cursor: default;
      text-decoration: none;
      font-weight: inherit;
      transition: none;
      position: relative;
      z-index: 1;
    }

    .clickable-you:active {
      cursor: pointer;
    }

    /* è®¿å®¢è®¡æ•°å™¨ */
    .visitor-counter {
      font-size: 0.9rem;
      color: var(--light-text);
      background: rgba(255, 255, 255, 0.8);
      padding: 8px 15px;
      border-radius: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* ç‚¹èµæŒ‰é’®æ ·å¼ */
    .like-btn {
      font-size: 1.8rem;
      background: none;
      border: none;
      cursor: pointer;
      margin: 0;
      position: relative;
      display: flex;
      align-items: center;
      gap: 10px;
      -webkit-tap-highlight-color: transparent;
    }

    .like-btn .heart {
      color: #ccc;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
    }

    /* å¿ƒè·³åŠ¨ç”» */
    @keyframes heartBeat {
      0% {
        transform: scale(1);
      }

      25% {
        transform: scale(1.2);
      }

      50% {
        transform: scale(1.1);
      }

      75% {
        transform: scale(1.3);
      }

      100% {
        transform: scale(1.1);
      }
    }

    .like-btn .heart.active {
      color: #ff6b9d;
      animation: heartBeat 0.8s ease-in-out forwards;
      text-shadow: 0 0 10px rgba(255, 107, 157, 0.5), 0 0 20px rgba(255, 107, 157, 0.2);
    }

    /* ç‚¹èµæ•°æ ·å¼ */
    .like-count {
      font-size: 1rem;
      color: var(--light-text);
      font-weight: bold;
      transition: all 0.3s ease;
    }

    .like-count.active {
      color: #ff6b9d;
      transform: translateY(-3px);
    }

    /* ä¸ªäººç®€å†å¡ç‰‡ */
    .resume-card {
      width: 75%;
      max-width: 550px;
      padding: 25px;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      color: var(--text-color);
    }

    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--accent-color);
    }

    .name {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--accent-color);
    }

    .major {
      font-size: 1rem;
      color: var(--light-text);
      margin-bottom: 10px;
    }

    .resume-info {
      text-align: center;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .interest {
      margin-top: 10px;
      font-size: 0.9rem;
      color: var(--accent-color);
      font-weight: bold;
    }

    /* è‡ªæˆ‘ä»‹ç»å¡ç‰‡æ ·å¼ */
    .intro-card {
      width: 75%;
      max-width: 550px;
      padding: 20px;
      background: linear-gradient(90deg, #6a89cc, #82ccdd, #b8e986, #f8c291);
      background-size: 400% 400%;
      animation: gradientAnimation 10s ease infinite;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      margin: 0;
      color: white;
      font-size: 0.95rem;
      text-align: center;
      line-height: 1.7;
      gap: 6px;
      display: flex;
      flex-direction: column;
    }

    /* æŠ€èƒ½å±•ç¤ºå¡ç‰‡ */
    .skills-card {
      width: 75%;
      max-width: 550px;
      padding: 20px;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      color: var(--text-color);
      font-size: 0.9rem;
      text-align: center;
    }

    .skills-title {
      font-size: 1.2rem;
      margin-bottom: 15px;
      color: var(--accent-color);
      font-weight: bold;
    }

    .skills-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .skill-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .skill-icon {
      font-size: 1.5rem;
      margin-bottom: 5px;
    }

    .skill-bar {
      width: 100%;
      height: 8px;
      background: #eee;
      border-radius: 4px;
      overflow: hidden;
    }

    .skill-progress {
      height: 100%;
      border-radius: 4px;
      background: linear-gradient(90deg, #6a89cc, #82ccdd);
      animation: progressLoad 1s ease forwards;
    }

    @keyframes progressLoad {
      from {
        width: 0;
      }

      to {
        width: var(--progress-width);
      }
    }

    /* éŸ³ä¹æ’­æ”¾å™¨ */
    .music-player {
      width: 85%;
      max-width: 750px;
      padding: 15px;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .music-title {
      font-size: 1rem;
      color: var(--accent-color);
      font-weight: bold;
    }

    audio {
      width: 100%;
      outline: none;
      border-radius: 8px;
    }

    /* ç…§ç‰‡å±•ç¤ºåŒºï¼ˆè°ƒæ•´ä¸º9å¼ ï¼‰ */
    .photo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 25px;
      width: 85%;
      max-width: 800px;
      margin: 0;
    }

    .photo-item {
      width: 100%;
      aspect-ratio: 1/1;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      border: 2px solid #f8f9fa;
      transition: transform 0.3s ease;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }

    .photo-item:hover {
      transform: scale(1.03);
    }

    .photo-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* ç…§ç‰‡é¢„è§ˆå¼¹çª— - ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ */
    .photo-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9998;
      padding: 20px;
      touch-action: none;
    }

    .modal-content {
      max-width: 95%;
      max-height: 85%;
      border-radius: 12px;
      object-fit: contain;
    }

    .close-modal {
      position: fixed;
      top: 20px;
      right: 20px;
      font-size: 2.5rem;
      color: white;
      cursor: pointer;
      z-index: 9999;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      -webkit-tap-highlight-color: transparent;
    }

    /* é“¾æ¥æ¿å— */
    .links-section {
      width: 85%;
      max-width: 750px;
      padding: 20px;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .links-title {
      font-size: 1.2rem;
      color: var(--accent-color);
      font-weight: bold;
    }

    .links-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      width: 100%;
    }

    .link-item {
      padding: 12px;
      background: rgba(106, 137, 204, 0.1);
      border-radius: 10px;
      text-align: center;
      transition: all 0.3s ease;
      -webkit-tap-highlight-color: transparent;
    }

    .link-item:hover {
      background: rgba(106, 137, 204, 0.2);
      transform: translateY(-3px);
    }

    .link-item a {
      text-decoration: none;
      color: var(--accent-color);
      font-size: 0.9rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .link-icon {
      font-size: 1.5rem;
    }

    /* ç•™è¨€æ¿åŒºåŸŸ */
    .message-section {
      width: 85%;
      max-width: 750px;
      margin: 0 0 50px 0;
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    .message-input {
      display: flex;
      flex-direction: column;
      gap: 18px;
      margin: 0;
    }

    #messageText {
      width: 100%;
      height: 90px;
      padding: 15px;
      font-size: 14px;
      border: 2px solid var(--border-color);
      border-radius: 10px;
      resize: none;
      background-color: rgba(255, 255, 255, 0.95);
      line-height: 1.5;
      color: var(--text-color);
      -webkit-tap-highlight-color: transparent;
    }

    .char-count {
      font-size: 0.8rem;
      color: var(--light-text);
      align-self: flex-end;
    }

    .save-reminder {
      font-size: 0.8rem;
      color: #6ab04c;
      align-self: flex-start;
      font-style: italic;
    }

    #saveMsgBtn {
      align-self: flex-end;
      padding: 10px 25px;
      font-size: 14px;
      background-color: #6ab04c;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
      -webkit-tap-highlight-color: transparent;
    }

    #saveMsgBtn:hover {
      background-color: #57a039;
    }

    .message-empty-tip {
      color: red;
      font-size: 0.8rem;
      display: none;
    }

    /* è®¨è®ºåŒºæ ·å¼ */
    .message-board {
      width: 100%;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 10px;
      border: 2px solid var(--border-color);
      padding: 20px;
      min-height: 200px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    }

    /* ç•™è¨€é¡¹æ ·å¼ */
    .message-item {
      padding: 15px;
      border-bottom: 1px solid #f1f3f5;
      margin-bottom: 18px;
      position: relative;
      display: flex;
      align-items: center;
      background-color: white;
      border-radius: 8px;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .message-item:hover {
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.03);
    }

    .message-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }

    .message-content {
      font-size: 14px;
      color: #495057;
      flex: 1;
      line-height: 1.5;
    }

    .message-time {
      font-size: 11px;
      color: #adb5bd;
      margin-top: 5px;
    }

    /* å·¦æ»‘åˆ é™¤æŒ‰é’® - ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ */
    .delete-btn {
      position: absolute;
      right: -60px;
      top: 0;
      width: 60px;
      height: 100%;
      background-color: #ff7675;
      color: white;
      border: none;
      cursor: pointer;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: right 0.3s ease;
      -webkit-tap-highlight-color: transparent;
    }

    .message-item.swipe-active .delete-btn {
      right: 0;
    }

    /* åˆ é™¤å¯†ç éªŒè¯å±‚ */
    #deletePasswordModal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      z-index: 999;
      display: none;
      min-width: 280px;
      width: 90%;
      max-width: 350px;
    }

    #deletePasswordInput {
      padding: 12px 15px;
      font-size: 14px;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      margin-right: 8px;
      margin-bottom: 15px;
      width: 100%;
    }

    #deleteConfirmBtn,
    #deleteCancelBtn {
      padding: 10px 20px;
      font-size: 14px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 0 4px;
    }

    #deleteConfirmBtn {
      background-color: #ff7675;
      color: white;
    }

    #deleteCancelBtn {
      background-color: #e9ecef;
    }

    #deleteErrorMsg {
      color: #ff7675;
      margin-top: 8px;
      font-size: 12px;
    }

    #deleteLockTip {
      color: orange;
      margin-top: 8px;
      font-size: 12px;
      display: none;
    }

    /* æ›´æ–°æ—¥å¿— */
    .update-log {
      width: 85%;
      max-width: 750px;
      padding: 20px;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      color: var(--text-color);
      font-size: 0.85rem;
      margin-top: 20px;
    }

    .log-title {
      font-size: 1.1rem;
      color: var(--accent-color);
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
    }

    .log-item {
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px dashed var(--border-color);
    }

    .log-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .log-date {
      color: var(--accent-color);
      font-weight: bold;
    }

    /* åŠ¨ç”»å…³é”®å¸§ */
    @keyframes gradientAnimation {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    @keyframes maskGradient {
      0% {
        background-position: 0% 50%;
      }

      100% {
        background-position: 100% 50%;
      }
    }

    @keyframes float {
      0% {
        transform: translateY(0) rotate(0deg);
      }

      50% {
        transform: translateY(-20px) rotate(180deg);
      }

      100% {
        transform: translateY(0) rotate(360deg);
      }
    }

    /* å“åº”å¼è°ƒæ•´ - å…¨é¢ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é… */
    @media (max-width: 768px) {
      #themeToggle {
        top: 15px;
        left: 15px;
        padding: 6px 12px;
        font-size: 0.7rem;
      }

      .title {
        font-size: 1.8rem;
        padding: 0 10px;
      }

      .photo-grid {
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
        gap: 20px;
      }

      .intro-card,
      .skills-card,
      .resume-card {
        font-size: 0.85rem;
        padding: 15px;
        width: 90%;
      }

      body {
        padding: 60px 15px 80px;
        gap: 30px;
      }

      .message-section,
      .links-section,
      .update-log,
      .music-player {
        width: 90%;
      }

      .skills-grid,
      .links-grid {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .avatar {
        width: 80px;
        height: 80px;
      }

      .loading-text {
        font-size: 1.2rem;
        text-align: center;
        padding: 0 20px;
      }

      .welcome-text {
        font-size: 2.5rem;
        text-align: center;
        padding: 0 20px;
      }

      /* ç§»åŠ¨ç«¯è¿›åº¦æ¡è°ƒæ•´ */
      .progress-wrapper {
        width: 85%;
        height: 20px;
      }

      .progress-percent {
        font-size: 0.8rem;
        min-width: 35px;
      }

      .progress-container {
        height: 20px;
      }

      /* ç§»åŠ¨ç«¯å¼¹çª—ä¼˜åŒ– */
      .close-modal {
        font-size: 2rem;
        width: 40px;
        height: 40px;
      }

      .modal-content {
        max-height: 70%;
      }

      /* ç§»åŠ¨ç«¯ç•™è¨€ä¼˜åŒ– */
      #messageText {
        padding: 12px;
        font-size: 15px;
        height: 120px;
      }

      .message-item {
        padding: 12px;
      }

      .delete-btn {
        width: 55px;
        right: -55px;
      }

      /* ç§»åŠ¨ç«¯æŒ‰é’®ä¼˜åŒ– */
      #saveMsgBtn {
        padding: 12px 30px;
        font-size: 15px;
        width: 100%;
      }

      /* ç§»åŠ¨ç«¯äºŒçº§éªŒè¯ä¼˜åŒ– */
      #secondPasswordInput {
        width: 90%;
        max-width: 300px;
      }

      #secondEnterBtn {
        width: 90%;
        max-width: 300px;
      }
    }

    @media (max-width: 480px) {
      .title {
        font-size: 1.5rem;
      }

      .like-btn {
        font-size: 1.5rem;
      }

      .photo-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 15px;
      }

      .congrats-text {
        font-size: 2.5rem;
        padding: 0 10px;
      }

      .loading-text {
        font-size: 1rem;
      }

      .welcome-text {
        font-size: 2rem;
      }

      /* ç§»åŠ¨ç«¯è¿›åº¦æ¡è¿›ä¸€æ­¥è°ƒæ•´ */
      .progress-wrapper {
        width: 90%;
        height: 18px;
        gap: 10px;
      }

      /* ç§»åŠ¨ç«¯ç•™è¨€æ¿ä¼˜åŒ– */
      .message-board {
        padding: 15px;
      }

      .message-content {
        font-size: 14px;
      }
    }
  </style>
</head>

<body class="light-theme">
  <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
  <button id="themeToggle">åˆ‡æ¢ä¸»é¢˜ ğŸŒ“</button>

  <!-- é¡µé¢è®¿é—®å¯†ç éªŒè¯å±‚ -->
  <div id="passwordModal">
    <input type="password" id="passwordInput" placeholder="è¯·è¾“å…¥è®¿é—®å¯†ç " maxlength="20">
    <button id="enterBtn">è¿›å…¥</button>
    <div id="errorMsg"></div>
    <div id="lockTip" style="color: orange; margin-top: 10px; font-size: 14px; display: none;">å¯†ç é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼ŒåŠŸèƒ½å·²é”å®š1åˆ†é’Ÿ</div>
  </div>

  <!-- äºŒçº§ç½‘ç«™å¯†ç éªŒè¯å±‚ï¼ˆç‹¬ç«‹ç•Œé¢ï¼‰ -->
  <div id="secondPasswordModal">
    <input type="password" id="secondPasswordInput" placeholder="è¯·è¾“å…¥éªŒè¯å¯†ç " maxlength="20">
    <button id="secondEnterBtn">éªŒè¯è¿›å…¥</button>
    <div id="secondErrorMsg"></div>
    <div id="secondLockTip">éªŒè¯å¤±è´¥ï¼ŒåŠŸèƒ½å°†é”å®š30åˆ†é’Ÿ</div>
  </div>

  <!-- äºŒçº§ç½‘ç«™é¡µé¢ -->
  <div id="secondWebsite">
    <div class="congrats-text">æ­å–œä½ </div>
  </div>

  <!-- åŠ è½½åŠ¨ç”»å±‚ -->
  <div id="loadingOverlay">
    <div class="loading-text">å´æ—æ´‹çš„ä¸“å±ç½‘ç«™æ­£åœ¨åŠ è½½ä¸­</div>
    <!-- ä¼˜åŒ–è¿›åº¦æ¡ç»“æ„ -->
    <div class="progress-wrapper">
      <div class="progress-percent" id="progressPercent">0%</div>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>
    <div class="welcome-text" id="welcomeText">æ¬¢è¿ï¼</div>
  </div>

  <!-- ç•™è¨€åˆ é™¤å¯†ç éªŒè¯å±‚ -->
  <div id="deletePasswordModal">
    <input type="password" id="deletePasswordInput" placeholder="è¯·è¾“å…¥åˆ é™¤å¯†ç " maxlength="20">
    <button id="deleteConfirmBtn">ç¡®è®¤åˆ é™¤</button>
    <button id="deleteCancelBtn">å–æ¶ˆ</button>
    <div id="deleteErrorMsg"></div>
    <div id="deleteLockTip">å¯†ç é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼ŒåŠŸèƒ½å·²é”å®š1åˆ†é’Ÿ</div>
  </div>

  <!-- ç…§ç‰‡é¢„è§ˆå¼¹çª— -->
  <div class="photo-modal" id="photoModal">
    <span class="close-modal" id="closeModal">Ã—</span>
    <img class="modal-content" id="modalImg">
  </div>

  <!-- æ ‡é¢˜ - å°å†™ -->
  <h1 class="title">nice to meet <span class="clickable-you">you</span></h1>

  <!-- è®¿å®¢è®¡æ•°å™¨ -->
  <div class="visitor-counter" id="visitorCounter">
    ğŸ‘€ ä»Šæ—¥è®¿å®¢: <span id="visitorNum">0</span>
  </div>

  <!-- ç‚¹èµæŒ‰é’® -->
  <button class="like-btn" id="likeBtn">
    <span class="heart" id="heartIcon">â¤ï¸</span>
    <span class="like-count" id="likeCountNum">0</span>
  </button>

  <!-- ä¸ªäººç®€å†å¡ç‰‡ -->
  <div class="resume-card">
    <img src="https://picsum.photos/id/64/200/200" alt="å¤´åƒ" class="avatar">
    <div class="name">å´æ—æ´‹</div>
    <div class="major">ç”µåŠ›ç›¸å…³ä¸“ä¸š | åœ¨æ ¡å¤§å­¦ç”Ÿ</div>
    <div class="resume-info">
      ä¸“æ³¨äºç”µåŠ›ç³»ç»Ÿä¸æ–°èƒ½æºé¢†åŸŸçš„å­¦ä¹ ï¼Œæ“…é•¿è§†é¢‘å‰ªè¾‘ä¸å›¾ç‰‡å¤„ç†ï¼Œ
      å…·å¤‡Linuxç³»ç»ŸåŸºç¡€æ“ä½œèƒ½åŠ›ï¼ŒæŒç»­æ¢ç´¢æŠ€æœ¯è¾¹ç•Œï¼Œ
      è‡´åŠ›äºå°†æŠ€æœ¯ä¸åˆ›æ„ç»“åˆï¼Œæ‰“é€ å®ç”¨ä¸”æœ‰è¶£çš„æ•°å­—ä½œå“ã€‚
    </div>
    <div class="interest">å…´è¶£æ–¹å‘ï¼šç”µåŠ›ç³»ç»Ÿã€æ–°èƒ½æºã€è§†é¢‘åˆ›ä½œ</div>
  </div>

  <!-- è‡ªæˆ‘ä»‹ç»å¡ç‰‡ -->
  <div class="intro-card">
    å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™ï¼
    <br>
    æˆ‘æ˜¯å´æ—æ´‹ ä¸€ååœ¨æ ¡å¤§å­¦ç”Ÿ
    <br>
    å¹³æ—¶ä¼šåˆ©ç”¨Prå‰ªè¾‘è§†é¢‘ã€Psåšå›¾ä¸ä¿®å›¾
    <br>
    è¿‘æœŸåœ¨å­¦ä¹ kali linuxç³»ç»Ÿä¸ç”µåŠ›ç³»ç»Ÿç›¸å…³çŸ¥è¯†
    <br>
    è¿™æ˜¯æˆ‘ç”¨HTMLã€CSSå’ŒJavaScriptåˆ¶ä½œçš„ä¸ªäººç½‘ç«™
    <br>
    æ¬¢è¿åœ¨ä¸‹æ–¹ç•™è¨€æ¿å¯¹æˆ‘æå‡ºæ”¹è¿›å»ºè®®ï¼
  </div>

  <!-- æŠ€èƒ½å±•ç¤ºå¡ç‰‡ -->
  <div class="skills-card">
    <div class="skills-title">æˆ‘çš„æŠ€èƒ½å±•ç¤º</div>
    <div class="skills-grid">
      <div class="skill-item">
        <span class="skill-icon">ğŸ¬</span>
        <span>Prè§†é¢‘å‰ªè¾‘</span>
        <div class="skill-bar">
          <div class="skill-progress" style="--progress-width: 85%;"></div>
        </div>
      </div>
      <div class="skill-item">
        <span class="skill-icon">ğŸ¨</span>
        <span>Pså›¾ç‰‡å¤„ç†</span>
        <div class="skill-bar">
          <div class="skill-progress" style="--progress-width: 80%;"></div>
        </div>
      </div>
      <div class="skill-item">
        <span class="skill-icon">ğŸ’»</span>
        <span>Linuxç³»ç»Ÿ</span>
        <div class="skill-bar">
          <div class="skill-progress" style="--progress-width: 65%;"></div>
        </div>
      </div>
      <div class="skill-item">
        <span class="skill-icon">ğŸ”’</span>
        <span>ç½‘ç»œå®‰å…¨</span>
        <div class="skill-bar">
          <div class="skill-progress" style="--progress-width: 60%;"></div>
        </div>
      </div>
      <div class="skill-item">
        <span class="skill-icon">ğŸŒ</span>
        <span>Webå¼€å‘</span>
        <div class="skill-bar">
          <div class="skill-progress" style="--progress-width: 70%;"></div>
        </div>
      </div>
      <div class="skill-item">
        <span class="skill-icon">ğŸ’°</span>
        <span>åŸºé‡‘ç®¡ç†</span>
        <div class="skill-bar">
          <div class="skill-progress" style="--progress-width: 75%;"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- éŸ³ä¹æ’­æ”¾å™¨ -->
  <div class="music-player">
    <div class="music-title">ğŸµ èƒŒæ™¯éŸ³ä¹ | æ”¾æ¾ä¸€ä¸‹</div>
    <audio controls loop id="musicPlayer">
      <source src="https://music.163.com/song/media/outer/url?id=186016.mp3" type="audio/mpeg">
      ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>
    <small style="color: #666;">ç‚¹å‡»æ’­æ”¾æŒ‰é’®ï¼Œè†å¬è½»æ¾çš„éŸ³ä¹</small>
  </div>

  <!-- ç…§ç‰‡å±•ç¤ºåŒºï¼ˆè°ƒæ•´ä¸º9å¼ ï¼‰ -->
  <div class="photo-grid">
    <div class="photo-item" data-img="https://picsum.photos/id/1068/800/800"><img
        src="https://picsum.photos/id/1068/200/200" alt="ç…§ç‰‡1"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/152/800/800"><img
        src="https://picsum.photos/id/152/200/200" alt="ç…§ç‰‡2"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/137/800/800"><img
        src="https://picsum.photos/id/137/200/200" alt="ç…§ç‰‡3"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/164/800/800"><img
        src="https://picsum.photos/id/164/200/200" alt="ç…§ç‰‡4"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/240/800/800"><img
        src="https://picsum.photos/id/240/200/200" alt="ç…§ç‰‡5"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/225/800/800"><img
        src="https://picsum.photos/id/225/200/200" alt="ç…§ç‰‡6"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/188/800/800"><img
        src="https://picsum.photos/id/188/200/200" alt="ç…§ç‰‡7"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/96/800/800"><img
        src="https://picsum.photos/id/96/200/200" alt="ç…§ç‰‡8"></div>
    <div class="photo-item" data-img="https://picsum.photos/id/111/800/800"><img
        src="https://picsum.photos/id/111/200/200" alt="ç…§ç‰‡9"></div>
  </div>

  <!-- é“¾æ¥æ¿å— -->
  <div class="links-section">
    <div class="links-title">ğŸ”— æˆ‘çš„å¸¸ç”¨é“¾æ¥</div>
    <div class="links-grid">
      <div class="link-item">
        <a href="https://github.com" target="_blank">
          <span class="link-icon">ğŸ™</span>
          <span>æˆ‘çš„GitHub</span>
        </a>
      </div>
      <div class="link-item">
        <a href="https://blog.csdn.net" target="_blank">
          <span class="link-icon">ğŸ“</span>
          <span>æˆ‘çš„æŠ€æœ¯åšå®¢</span>
        </a>
      </div>
      <div class="link-item">
        <a href="https://space.bilibili.com" target="_blank">
          <span class="link-icon">ğŸ“º</span>
          <span>æˆ‘çš„Bç«™ç©ºé—´</span>
        </a>
      </div>
      <div class="link-item">
        <a href="mailto:example@mail.com" target="_blank">
          <span class="link-icon">âœ‰ï¸</span>
          <span>è”ç³»æˆ‘</span>
        </a>
      </div>
    </div>
  </div>

  <!-- ç•™è¨€æ¿åŒºåŸŸ -->
  <div class="message-section">
    <div class="message-input">
      <textarea id="messageText" placeholder="è¯·è¾“å…¥ä½ çš„ç•™è¨€..." maxlength="200"></textarea>
      <div class="char-count"><span id="charNum">0</span>/200</div>
      <div class="save-reminder">ğŸ’¾ é•¿æœŸä¿å­˜ï¼šä½ çš„ç•™è¨€å°†è¢«æ°¸ä¹…ä¿å­˜</div>
      <div class="message-empty-tip" id="emptyTip">è¯·è¾“å…¥ç•™è¨€å†…å®¹ï¼</div>
      <button id="saveMsgBtn">ä¿å­˜</button>
    </div>
    <div class="message-board" id="messageBoard">
      <!-- ç•™è¨€å†…å®¹ä¼šåŠ¨æ€ç”Ÿæˆåœ¨è¿™é‡Œ -->
    </div>
  </div>

  <!-- æ›´æ–°æ—¥å¿—ï¼ˆæ¸…ç†æ•æ„Ÿä¿¡æ¯ï¼‰ -->
  <div class="update-log">
    <div class="log-title">ğŸ“ ç½‘ç«™æ›´æ–°æ—¥å¿—</div>
    <div class="log-item">
      <span class="log-date">2026-01-05</span>ï¼šç½‘ç«™åˆå§‹ç‰ˆæœ¬ä¸Šçº¿ï¼ŒåŒ…å«åŸºç¡€åŠŸèƒ½æ¨¡å—ã€‚
    </div>
    <div class="log-item">
      <span class="log-date">2026-01-06</span>ï¼šæ–°å¢å¤šåª’ä½“åŠŸèƒ½ã€æ•°æ®ç»Ÿè®¡æ¨¡å—ã€ç…§ç‰‡é¢„è§ˆåŠŸèƒ½ï¼›ä¼˜åŒ–é¡µé¢å¸ƒå±€ä¸äº¤äº’æ•ˆæœã€‚
    </div>
    <div class="log-item">
      <span class="log-date">2026-01-07</span>ï¼šæ–°å¢ä¸ªäººä¿¡æ¯å±•ç¤ºå¡ç‰‡ã€ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ã€é“¾æ¥å¯¼èˆªæ¿å—ï¼›ä¼˜åŒ–è¾“å…¥æ¡†é™åˆ¶è§„åˆ™ï¼›å¢åŠ å®‰å…¨éªŒè¯æœºåˆ¶ï¼›å…¨é¢é€‚é…å¤šç»ˆç«¯è®¾å¤‡ã€‚
    </div>
    <div class="log-item">
      <span class="log-date">2026-01-08</span>ï¼šä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…æ•ˆæœï¼›è°ƒæ•´ç•Œé¢äº¤äº’é€»è¾‘ï¼›ä¼˜åŒ–è§†è§‰å±•ç¤ºæ•ˆæœï¼›æ¸…ç†éå¿…è¦å±•ç¤ºä¿¡æ¯ã€‚
    </div>
    <div class="log-item">
      <span class="log-date">2026-01-09</span>ï¼šå‡çº§èµ›åšæœ‹å…‹é£æ ¼åŠ è½½åŠ¨ç”»ï¼›ä¼˜åŒ–ç‚¹èµè®¡æ•°é€»è¾‘ï¼›æ–°å¢ä¸¤ä¾§è£…é¥°å…ƒç´ ï¼›æ›´æ–°ä¸ªäººä¿¡æ¯ä¸ºç”µåŠ›ç›¸å…³ä¸“ä¸šï¼›ä¼˜åŒ–ç§»åŠ¨ç«¯é€‚é…ã€‚
    </div>
  </div>

  <script>
    // å…¨å±€å˜é‡ - å¯†ç é”™è¯¯æ¬¡æ•°ä¸é”å®šçŠ¶æ€
    let passwordErrorCount = 0;
    let deletePasswordErrorCount = 0;
    let isPasswordLocked = false;
    let isDeletePasswordLocked = false;
    // äºŒçº§éªŒè¯ç›¸å…³å˜é‡
    let isSecondPasswordLocked = false;
    const secondCorrectPassword = 'wly007';
    const lockDuration = 30 * 60; // 30åˆ†é’Ÿï¼Œå•ä½ç§’
    // ç‚¹èµè®¡æ•°ç›¸å…³
    let visitorHasLiked = localStorage.getItem('visitorHasLiked') || 'none'; // none:æœªæ“ä½œ, like:ç‚¹èµ, unlike:å–æ¶ˆ

    // 1. ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;

    // åˆå§‹åŒ–ä¸»é¢˜ï¼ˆä¼˜å…ˆæœ¬åœ°å­˜å‚¨ï¼‰
    const savedTheme = localStorage.getItem('websiteTheme') || 'light-theme';
    body.className = savedTheme;
    themeToggle.textContent = savedTheme === 'light-theme' ? 'åˆ‡æ¢æš—é»‘ä¸»é¢˜ ğŸŒ™' : 'åˆ‡æ¢äº®è‰²ä¸»é¢˜ â˜€ï¸';

    // åˆ‡æ¢ä¸»é¢˜
    themeToggle.addEventListener('click', () => {
      if (body.classList.contains('light-theme')) {
        body.classList.remove('light-theme');
        body.classList.add('dark-theme');
        localStorage.setItem('websiteTheme', 'dark-theme');
        themeToggle.textContent = 'åˆ‡æ¢äº®è‰²ä¸»é¢˜ â˜€ï¸';
      } else {
        body.classList.remove('dark-theme');
        body.classList.add('light-theme');
        localStorage.setItem('websiteTheme', 'light-theme');
        themeToggle.textContent = 'åˆ‡æ¢æš—é»‘ä¸»é¢˜ ğŸŒ™';
      }
    });

    // 2. é¡µé¢è®¿é—®å¯†ç éªŒè¯ï¼ˆå¸¦è¾“é”™é”å®šï¼‰
    const passwordModal = document.getElementById('passwordModal');
    const passwordInput = document.getElementById('passwordInput');
    const enterBtn = document.getElementById('enterBtn');
    const errorMsg = document.getElementById('errorMsg');
    const lockTip = document.getElementById('lockTip');
    const correctPassword = 'wly2007';
    // åŠ è½½åŠ¨ç”»ç›¸å…³å…ƒç´ 
    const loadingOverlay = document.getElementById('loadingOverlay');
    const progressBar = document.getElementById('progressBar');
    const progressPercent = document.getElementById('progressPercent');
    const welcomeText = document.getElementById('welcomeText');
    const loadingText = document.querySelector('.loading-text');

    // åˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡ç”¨äºèµ›åšæœ‹å…‹éŸ³æ•ˆ
    let audioContext;
    function initAudioContext() {
      if (!audioContext) {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
      }
    }

    // ç”Ÿæˆèµ›åšæœ‹å…‹é£æ ¼éŸ³æ•ˆ
    function playCyberSound(type, progress = 0) {
      initAudioContext();

      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();

      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);

      // æ ¹æ®ä¸åŒç±»å‹è®¾ç½®éŸ³æ•ˆå‚æ•°
      switch (type) {
        case 'start': // å¯åŠ¨éŸ³ï¼šçŸ­ä¿ƒé«˜é¢‘é‡‘å±éŸ³+ç”µæµæ‚éŸ³
          oscillator.type = 'square';
          oscillator.frequency.setValueAtTime(880, audioContext.currentTime);
          oscillator.frequency.exponentialRampToValueAtTime(1760, audioContext.currentTime + 0.05);
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);

          // æ·»åŠ ç”µæµæ‚éŸ³
          const noise = audioContext.createBufferSource();
          const noiseBuffer = audioContext.createBuffer(1, audioContext.sampleRate * 0.1, audioContext.sampleRate);
          const noiseData = noiseBuffer.getChannelData(0);
          for (let i = 0; i < noiseBuffer.length; i++) {
            noiseData[i] = Math.random() * 2 - 1;
          }
          noise.buffer = noiseBuffer;
          const noiseGain = audioContext.createGain();
          noiseGain.gain.setValueAtTime(0.02, audioContext.currentTime);
          noise.connect(noiseGain);
          noiseGain.connect(audioContext.destination);
          noise.start(audioContext.currentTime);
          noise.stop(audioContext.currentTime + 0.1);

          oscillator.start();
          oscillator.stop(audioContext.currentTime + 0.2);
          break;

        case 'progress': // è¿›åº¦é€’å¢éŸ³ï¼šé¡¿æŒ«é‡‘å±æ•²å‡»ï¼ŒéŸ³è°ƒéšè¿›åº¦å‡é«˜
          const freq = 220 + (progress * 440); // 220Hzåˆ°660Hz
          oscillator.type = 'sawtooth';
          oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);

          oscillator.start();
          oscillator.stop(audioContext.currentTime + 0.1);
          break;

        case 'complete': // å®ŒæˆéŸ³ï¼šé•¿éŸ³é‡‘å±å†¥æƒ³+ç”µæµæ”¶å°¾+æœºæ¢°é”æ‰£
          oscillator.type = 'triangle';
          oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
          oscillator.frequency.exponentialRampToValueAtTime(220, audioContext.currentTime + 1);
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime + 0.8);
          gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 2);

          // æœºæ¢°é”æ‰£å£°
          setTimeout(() => {
            const clickOsc = audioContext.createOscillator();
            const clickGain = audioContext.createGain();
            clickOsc.type = 'square';
            clickOsc.frequency.setValueAtTime(440, audioContext.currentTime);
            clickGain.gain.setValueAtTime(0.1, audioContext.currentTime);
            clickGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);
            clickOsc.connect(clickGain);
            clickGain.connect(audioContext.destination);
            clickOsc.start();
            clickOsc.stop(audioContext.currentTime + 0.1);

            // ç”µæµæ”¶å°¾
            const endNoise = audioContext.createBufferSource();
            const endNoiseBuffer = audioContext.createBuffer(1, audioContext.sampleRate * 0.2, audioContext.sampleRate);
            const endNoiseData = endNoiseBuffer.getChannelData(0);
            for (let i = 0; i < endNoiseBuffer.length; i++) {
              endNoiseData[i] = Math.random() * 2 - 1;
            }
            endNoise.buffer = endNoiseBuffer;
            const endNoiseGain = audioContext.createGain();
            endNoiseGain.gain.setValueAtTime(0.03, audioContext.currentTime);
            endNoiseGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);
            endNoise.connect(endNoiseGain);
            endNoiseGain.connect(audioContext.destination);
            endNoise.start(audioContext.currentTime);
            endNoise.stop(audioContext.currentTime + 0.2);
          }, 1800);

          oscillator.start();
          oscillator.stop(audioContext.currentTime + 2);
          break;
      }
    }

    // å¯†ç é”å®šå‡½æ•°
    function lockPasswordInput(duration = 60) {
      isPasswordLocked = true;
      passwordInput.disabled = true;
      enterBtn.disabled = true;
      lockTip.style.display = 'block';

      // å€’è®¡æ—¶è§£é”
      let timeLeft = duration;
      const timer = setInterval(() => {
        timeLeft--;
        lockTip.textContent = `å¯†ç é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼ŒåŠŸèƒ½å·²é”å®š${timeLeft}ç§’`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          isPasswordLocked = false;
          passwordInput.disabled = false;
          enterBtn.disabled = false;
          lockTip.style.display = 'none';
          passwordErrorCount = 0;
          lockTip.textContent = 'å¯†ç é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼ŒåŠŸèƒ½å·²é”å®š1åˆ†é’Ÿ';
        }
      }, 1000);
    }

    // æ¨¡æ‹Ÿè¿›åº¦æ¡åŠ è½½ï¼ˆå¸¦éŸ³æ•ˆï¼‰
    function simulateProgress() {
      let progress = 0;
      const interval = setInterval(() => {
        progress += 1;
        progressBar.style.width = `${progress}%`;
        progressPercent.textContent = `${progress}%`;

        // æ¯10%æ’­æ”¾è¿›åº¦éŸ³æ•ˆ
        if (progress % 10 === 0 && progress > 0) {
          playCyberSound('progress', progress / 100);
        }

        if (progress >= 100) {
          clearInterval(interval);
          // æ’­æ”¾å®ŒæˆéŸ³æ•ˆ
          playCyberSound('complete');

          // éšè—åŠ è½½æ–‡å­—å’Œè¿›åº¦æ¡
          loadingText.style.display = 'none';
          document.querySelector('.progress-wrapper').style.display = 'none';

          // æ˜¾ç¤ºæ¬¢è¿æ–‡å­—ï¼ˆ5ç§’æ¸å˜æ˜¾ç°ï¼‰
          welcomeText.style.opacity = 1;

          // æ¬¢è¿æ–‡å­—æ˜¾ç¤ºå®Œæˆåå…³é—­åŠ è½½å±‚
          setTimeout(() => {
            loadingOverlay.style.display = 'none';
            // åˆå§‹åŒ–ç½‘ç«™åŠŸèƒ½
            initFunFeatures();
          }, 5000); // æ¬¢è¿æ–‡å­—æ˜¾ç¤º5ç§’
        }
      }, 50); // 5ç§’åŠ è½½å®Œæˆï¼ˆ100*50ms=5000msï¼‰
    }

    // åŠ è½½åŠ¨ç”»æ‰§è¡Œå‡½æ•°
    function runLoadingAnimation() {
      // æ˜¾ç¤ºåŠ è½½å±‚
      loadingOverlay.style.display = 'flex';

      // æ’­æ”¾å¯åŠ¨éŸ³æ•ˆ
      playCyberSound('start');

      // 1ç§’åå¼€å§‹æ¨¡æ‹Ÿè¿›åº¦æ¡åŠ è½½
      setTimeout(() => {
        simulateProgress();
      }, 1000); // å…ˆå…¨é»‘1ç§’
    }

    enterBtn.addEventListener('click', () => {
      if (isPasswordLocked) return;

      if (passwordInput.value === correctPassword) {
        passwordModal.style.display = 'none';
        // æ‰§è¡ŒåŠ è½½åŠ¨ç”»
        runLoadingAnimation();
        passwordErrorCount = 0;
        errorMsg.textContent = '';
      } else {
        passwordErrorCount++;
        errorMsg.textContent = `å¯†ç é”™è¯¯ï¼ˆ${passwordErrorCount}/3ï¼‰ï¼Œè¯·å†æ¬¡è¾“å…¥`;
        passwordInput.value = '';

        // è¾¾åˆ°3æ¬¡é”™è¯¯é”å®š
        if (passwordErrorCount >= 3) {
          lockPasswordInput();
        }
      }
    });

    passwordInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !isPasswordLocked) enterBtn.click();
    });

    // 3. äºŒçº§éªŒè¯ç›¸å…³åŠŸèƒ½
    const clickableYou = document.querySelector('.clickable-you');
    const secondPasswordModal = document.getElementById('secondPasswordModal');
    const secondPasswordInput = document.getElementById('secondPasswordInput');
    const secondEnterBtn = document.getElementById('secondEnterBtn');
    const secondErrorMsg = document.getElementById('secondErrorMsg');
    const secondLockTip = document.getElementById('secondLockTip');
    const secondWebsite = document.getElementById('secondWebsite');

    // åˆå§‹åŒ–æ£€æŸ¥äºŒçº§éªŒè¯é”å®šçŠ¶æ€
    const lockEndTime = localStorage.getItem('secondPasswordLockEndTime');
    if (lockEndTime) {
      const now = new Date().getTime() / 1000;
      if (now < lockEndTime) {
        lockSecondPasswordInput(lockEndTime - now);
      } else {
        localStorage.removeItem('secondPasswordLockEndTime');
      }
    }

    // åŒå‡»youè§¦å‘éªŒè¯
    clickableYou.addEventListener('dblclick', (e) => {
      e.preventDefault();
      if (!isSecondPasswordLocked) {
        secondPasswordModal.style.display = 'flex';
        secondPasswordInput.value = '';
        secondErrorMsg.textContent = '';
        secondLockTip.style.display = 'none';
      } else {
        secondErrorMsg.textContent = 'åŠŸèƒ½å·²é”å®š30åˆ†é’Ÿ';
      }
    });

    // ç¦æ­¢å•å‡»è§¦å‘ä»»ä½•æ“ä½œ
    clickableYou.addEventListener('click', (e) => {
      e.preventDefault();
    });

    // äºŒçº§éªŒè¯é”å®šå‡½æ•°
    function lockSecondPasswordInput(remainingTime) {
      isSecondPasswordLocked = true;
      secondPasswordInput.disabled = true;
      secondEnterBtn.disabled = true;
      secondLockTip.style.display = 'block';

      // å­˜å‚¨é”å®šç»“æŸæ—¶é—´åˆ°æœ¬åœ°
      const lockEndTime = new Date().getTime() / 1000 + remainingTime;
      localStorage.setItem('secondPasswordLockEndTime', lockEndTime);

      // å€’è®¡æ—¶æ˜¾ç¤º
      let timeLeft = Math.ceil(remainingTime);
      const timer = setInterval(() => {
        timeLeft--;
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        secondLockTip.textContent = `åŠŸèƒ½å·²é”å®š${minutes}åˆ†${seconds}ç§’`;

        if (timeLeft <= 0) {
          clearInterval(timer);
          isSecondPasswordLocked = false;
          secondPasswordInput.disabled = false;
          secondEnterBtn.disabled = false;
          secondLockTip.style.display = 'none';
          localStorage.removeItem('secondPasswordLockEndTime');
        }
      }, 1000);
    }

    // äºŒçº§éªŒè¯é€»è¾‘
    secondEnterBtn.addEventListener('click', () => {
      if (isSecondPasswordLocked) return;

      if (secondPasswordInput.value === secondCorrectPassword) {
        secondPasswordModal.style.display = 'none';
        secondWebsite.style.display = 'flex';
        secondErrorMsg.textContent = '';
      } else {
        secondErrorMsg.textContent = 'éªŒè¯å¤±è´¥ï¼ŒåŠŸèƒ½å°†é”å®š30åˆ†é’Ÿ';
        secondPasswordInput.value = '';
        lockSecondPasswordInput(lockDuration);
      }
    });

    // äºŒçº§éªŒè¯è¾“å…¥æ¡†å›è½¦äº‹ä»¶
    secondPasswordInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !isSecondPasswordLocked) secondEnterBtn.click();
    });

    // 4. èƒŒæ™¯å›¾æ›´æ¢åŠŸèƒ½
    const bgList = [
      'https://picsum.photos/id/186/1920/1080',
      'https://picsum.photos/id/177/1920/1080',
      'https://picsum.photos/id/119/1920/1080',
      'https://picsum.photos/id/146/1920/1080',
      'https://picsum.photos/id/169/1920/1080'
    ];

    body.addEventListener('dblclick', (e) => {
      if (!e.target.closest('.intro-card') && !e.target.closest('.like-btn') && !e.target.closest('.photo-grid') && !e.target.closest('.message-section')) {
        const randomBg = bgList[Math.floor(Math.random() * bgList.length)];
        body.style.backgroundImage = `url("${randomBg}")`;
      }
    });

    // 5. ç‚¹èµåŠŸèƒ½ï¼ˆä¼˜åŒ–è®¡æ•°é€»è¾‘ï¼‰
    const likeBtn = document.getElementById('likeBtn');
    const heartIcon = document.getElementById('heartIcon');
    const likeCountNum = document.getElementById('likeCountNum');
    // ä»æœ¬åœ°å­˜å‚¨è·å–æ€»ç‚¹èµæ•°
    let totalLikeCount = parseInt(localStorage.getItem('totalLikeCount')) || 0;

    // åˆå§‹åŒ–ç‚¹èµçŠ¶æ€
    likeCountNum.textContent = totalLikeCount;
    if (visitorHasLiked === 'like') {
      heartIcon.classList.add('active');
      likeCountNum.classList.add('active');
    }

    likeBtn.addEventListener('click', () => {
      // æ¯ä¸ªè®¿å®¢åªèƒ½æ“ä½œä¸€æ¬¡
      if (visitorHasLiked !== 'none') return;

      // åˆ‡æ¢ç‚¹èµçŠ¶æ€
      visitorHasLiked = 'like';
      totalLikeCount++;
      heartIcon.classList.add('active');
      likeCountNum.classList.add('active');

      // ä¿å­˜çŠ¶æ€å’Œè®¡æ•°
      localStorage.setItem('visitorHasLiked', visitorHasLiked);
      localStorage.setItem('totalLikeCount', totalLikeCount);
      likeCountNum.textContent = totalLikeCount;

      createFloatDecoration('â¤ï¸', heartIcon.getBoundingClientRect());
    });

    likeBtn.addEventListener('dblclick', (e) => {
      e.preventDefault();
      // æ¯ä¸ªè®¿å®¢åªèƒ½æ“ä½œä¸€æ¬¡
      if (visitorHasLiked !== 'none') return;

      visitorHasLiked = 'like';
      totalLikeCount++;
      heartIcon.classList.add('active');
      likeCountNum.classList.add('active');
      localStorage.setItem('visitorHasLiked', visitorHasLiked);
      localStorage.setItem('totalLikeCount', totalLikeCount);
      likeCountNum.textContent = totalLikeCount;
    });

    // 6. ç•™è¨€æ¿åŠŸèƒ½
    const messageText = document.getElementById('messageText');
    const saveMsgBtn = document.getElementById('saveMsgBtn');
    const messageBoard = document.getElementById('messageBoard');
    const charNum = document.getElementById('charNum');
    const emptyTip = document.getElementById('emptyTip');
    const deletePasswordModal = document.getElementById('deletePasswordModal');
    const deletePasswordInput = document.getElementById('deletePasswordInput');
    const deleteConfirmBtn = document.getElementById('deleteConfirmBtn');
    const deleteCancelBtn = document.getElementById('deleteCancelBtn');
    const deleteErrorMsg = document.getElementById('deleteErrorMsg');
    const deleteLockTip = document.getElementById('deleteLockTip');
    let messages = JSON.parse(localStorage.getItem('messages')) || [];
    let deleteIndex = -1;

    // ç•™è¨€å­—æ•°è®¡æ•°
    messageText.addEventListener('input', () => {
      const length = messageText.value.length;
      charNum.textContent = length;
      if (length > 200) {
        messageText.value = messageText.value.substring(0, 200);
        charNum.textContent = 200;
      }
      emptyTip.style.display = 'none';
    });

    // æ¸²æŸ“ç•™è¨€ - å¢åŠ XSSé˜²æŠ¤
    function renderMessages() {
      messageBoard.innerHTML = '';
      messages.forEach((msg, index) => {
        const msgItem = document.createElement('div');
        msgItem.className = 'message-item';
        msgItem.dataset.index = index;

        // XSSé˜²æŠ¤ï¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦
        const safeContent = msg.content
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#039;');

        msgItem.innerHTML = `
          <div class="message-content">
            ${safeContent}
            <div class="message-time">${msg.time}</div>
          </div>
          <button class="delete-btn">ğŸ—‘ï¸</button>
        `;
        messageBoard.appendChild(msgItem);

        // å·¦æ»‘äº‹ä»¶ - ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
        let startX = 0;
        let isSwiping = false;

        // è§¦æ‘¸å¼€å§‹
        msgItem.addEventListener('touchstart', (e) => {
          startX = e.touches[0].clientX;
          isSwiping = true;
          // é˜»æ­¢äº‹ä»¶å†’æ³¡
          e.stopPropagation();
        });

        // è§¦æ‘¸ç§»åŠ¨
        msgItem.addEventListener('touchmove', (e) => {
          if (!isSwiping) return;
          const currentX = e.touches[0].clientX;
          const diffX = startX - currentX;
          // å®æ—¶æ˜¾ç¤ºæ»‘åŠ¨è·ç¦»
          if (diffX > 0) {
            msgItem.style.transform = `translateX(-${Math.min(diffX, 60)}px)`;
          }
          e.stopPropagation();
        });

        // è§¦æ‘¸ç»“æŸ
        msgItem.addEventListener('touchend', (e) => {
          if (!isSwiping) return;
          const currentX = e.changedTouches[0].clientX;
          const diffX = startX - currentX;

          // åˆ¤æ–­æ˜¯å¦æ»‘åŠ¨è¶³å¤Ÿè·ç¦»
          if (diffX > 30) {
            // æ˜¾ç¤ºåˆ é™¤æŒ‰é’®
            msgItem.classList.add('swipe-active');
            msgItem.style.transform = 'translateX(-60px)';
          } else {
            // å¤ä½
            msgItem.classList.remove('swipe-active');
            msgItem.style.transform = 'translateX(0)';
          }

          isSwiping = false;
          e.stopPropagation();
        });

        // ç‚¹å‡»åˆ é™¤æŒ‰é’®
        const deleteBtn = msgItem.querySelector('.delete-btn');
        deleteBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          deleteIndex = index;
          deletePasswordModal.style.display = 'block';
          deletePasswordInput.value = '';
          deleteErrorMsg.textContent = '';
          deleteLockTip.style.display = 'none';
        });

        // ç‚¹å‡»ç•™è¨€é¡¹å…¶ä»–åŒºåŸŸå¤ä½
        msgItem.addEventListener('click', () => {
          msgItem.classList.remove('swipe-active');
          msgItem.style.transform = 'translateX(0)';
        });
      });
    }

    // åˆ é™¤å¯†ç é”å®šå‡½æ•°
    function lockDeletePasswordInput(duration = 60) {
      isDeletePasswordLocked = true;
      deletePasswordInput.disabled = true;
      deleteConfirmBtn.disabled = true;
      deleteLockTip.style.display = 'block';

      // å€’è®¡æ—¶è§£é”
      let timeLeft = duration;
      const timer = setInterval(() => {
        timeLeft--;
        deleteLockTip.textContent = `å¯†ç é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼ŒåŠŸèƒ½å·²é”å®š${timeLeft}ç§’`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          isDeletePasswordLocked = false;
          deletePasswordInput.disabled = false;
          deleteConfirmBtn.disabled = false;
          deleteLockTip.style.display = 'none';
          deletePasswordErrorCount = 0;
          deleteLockTip.textContent = 'å¯†ç é”™è¯¯æ¬¡æ•°è¿‡å¤šï¼ŒåŠŸèƒ½å·²é”å®š1åˆ†é’Ÿ';
        }
      }, 1000);
    }

    // å–æ¶ˆåˆ é™¤
    deleteCancelBtn.addEventListener('click', () => {
      deletePasswordModal.style.display = 'none';
      deleteIndex = -1;
      deleteErrorMsg.textContent = '';
    });

    // ç¡®è®¤åˆ é™¤
    deleteConfirmBtn.addEventListener('click', () => {
      if (isDeletePasswordLocked) return;

      // åˆ é™¤å¯†ç ä¸è®¿é—®å¯†ç ä¸€è‡´
      if (deletePasswordInput.value === correctPassword) {
        if (deleteIndex >= 0 && deleteIndex < messages.length) {
          messages.splice(deleteIndex, 1);
          localStorage.setItem('messages', JSON.stringify(messages));
          renderMessages();
          deletePasswordModal.style.display = 'none';
          deleteIndex = -1;
          deleteErrorMsg.textContent = '';
          deletePasswordErrorCount = 0;
        }
      } else {
        deletePasswordErrorCount++;
        deleteErrorMsg.textContent = `å¯†ç é”™è¯¯ï¼ˆ${deletePasswordErrorCount}/3ï¼‰ï¼Œè¯·å†æ¬¡è¾“å…¥`;
        deletePasswordInput.value = '';

        // è¾¾åˆ°3æ¬¡é”™è¯¯é”å®š
        if (deletePasswordErrorCount >= 3) {
          lockDeletePasswordInput();
        }
      }
    });

    // åˆ é™¤å¯†ç è¾“å…¥æ¡†å›è½¦äº‹ä»¶
    deletePasswordInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !isDeletePasswordLocked) deleteConfirmBtn.click();
    });

    // ä¿å­˜ç•™è¨€
    saveMsgBtn.addEventListener('click', () => {
      const content = messageText.value.trim();
      if (!content) {
        emptyTip.style.display = 'block';
        return;
      }

      const now = new Date();
      const timeStr = `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}-${now.getDate().toString().padStart(2, '0')} ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;

      messages.push({
        content: content,
        time: timeStr
      });

      localStorage.setItem('messages', JSON.stringify(messages));
      renderMessages();
      messageText.value = '';
      charNum.textContent = '0';
      emptyTip.style.display = 'none';
    });

    // 7. ç…§ç‰‡é¢„è§ˆåŠŸèƒ½ - ä¼˜åŒ–ç§»åŠ¨ç«¯ç‚¹å‡»åŒºåŸŸ
    const photoItems = document.querySelectorAll('.photo-item');
    const photoModal = document.getElementById('photoModal');
    const modalImg = document.getElementById('modalImg');
    const closeModal = document.getElementById('closeModal');

    // ç‚¹å‡»ç…§ç‰‡é¢„è§ˆ
    photoItems.forEach(item => {
      // åŒæ—¶ç›‘å¬clickå’Œtouchendäº‹ä»¶ï¼Œä¼˜åŒ–ç§»åŠ¨ç«¯ç‚¹å‡»ä½“éªŒ
      item.addEventListener('click', () => {
        const imgSrc = item.getAttribute('data-img');
        modalImg.src = imgSrc;
        photoModal.style.display = 'flex';
        // é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œé¿å…è§¦å‘èƒŒæ™¯åˆ‡æ¢
        event.stopPropagation();
      });

      // ç§»åŠ¨ç«¯è§¦æ‘¸ç»“æŸäº‹ä»¶ï¼Œè§£å†³ç‚¹å‡»å»¶è¿Ÿé—®é¢˜
      item.addEventListener('touchend', (e) => {
        e.preventDefault();
        const imgSrc = item.getAttribute('data-img');
        modalImg.src = imgSrc;
        photoModal.style.display = 'flex';
      });
    });

    // å…³é—­ç…§ç‰‡é¢„è§ˆ - ä¼˜åŒ–ç‚¹å‡»åŒºåŸŸ
    closeModal.addEventListener('click', () => {
      photoModal.style.display = 'none';
    });

    // ç‚¹å‡»å¼¹çª—å¤–åŒºåŸŸå…³é—­ï¼Œä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ
    photoModal.addEventListener('click', (e) => {
      if (e.target === photoModal) {
        photoModal.style.display = 'none';
      }
    });

    // ç§»åŠ¨ç«¯è§¦æ‘¸å…³é—­ä¼˜åŒ–
    photoModal.addEventListener('touchend', (e) => {
      if (e.target === photoModal) {
        photoModal.style.display = 'none';
      }
    });

    // ESCé”®å…³é—­ç…§ç‰‡é¢„è§ˆ
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        photoModal.style.display = 'none';
        deletePasswordModal.style.display = 'none';
        secondPasswordModal.style.display = 'none';
      }
    });

    // 8. è®¿å®¢è®¡æ•°å™¨
    function updateVisitorCount() {
      const today = new Date().toISOString().split('T')[0];
      const lastVisitDate = localStorage.getItem('lastVisitDate');
      let visitorCount = parseInt(localStorage.getItem('visitorCount')) || 0;

      // å¦‚æœæ˜¯æ–°çš„ä¸€å¤©ï¼Œé‡ç½®è®¡æ•°å™¨
      if (lastVisitDate !== today) {
        visitorCount = 1;
        localStorage.setItem('lastVisitDate', today);
      } else {
        visitorCount++;
      }

      localStorage.setItem('visitorCount', visitorCount);
      document.getElementById('visitorNum').textContent = visitorCount;
    }

    // 9. åˆ›å»ºæµ®åŠ¨è£…é¥°å…ƒç´ ï¼ˆç‚¹èµæ—¶ï¼‰
    function createFloatDecoration(text, rect) {
      const decoration = document.createElement('div');
      decoration.textContent = text;
      decoration.style.position = 'absolute';
      decoration.style.left = `${rect.left + rect.width / 2}px`;
      decoration.style.top = `${rect.top}px`;
      decoration.style.transform = 'translate(-50%, -50%)';
      decoration.style.fontSize = '1.2rem';
      decoration.style.opacity = '1';
      decoration.style.transition = 'all 1s ease';
      decoration.style.pointerEvents = 'none';
      decoration.style.zIndex = '100';
      document.body.appendChild(decoration);

      // åŠ¨ç”»æ•ˆæœ
      setTimeout(() => {
        decoration.style.opacity = '0';
        decoration.style.transform = 'translate(-50%, -150%) rotate(360deg)';
      }, 10);

      // ç§»é™¤å…ƒç´ 
      setTimeout(() => {
        document.body.removeChild(decoration);
      }, 1000);
    }

    // åˆå§‹åŒ–è¶£å‘³åŠŸèƒ½
    function initFunFeatures() {
      // åˆå§‹åŒ–è®¿å®¢è®¡æ•°å™¨
      updateVisitorCount();
      // æ¸²æŸ“ç•™è¨€
      renderMessages();

      // ç§»åŠ¨ç«¯äº¤äº’ä¼˜åŒ–ï¼šç¦ç”¨åŒå‡»ç¼©æ”¾
      document.addEventListener('touchstart', function (e) {
        if (e.touches.length > 1) {
          e.preventDefault();
        }
      }, { passive: false });

      // ä¼˜åŒ–ç§»åŠ¨ç«¯æ»šåŠ¨ä½“éªŒ
      document.body.style.webkitOverflowScrolling = 'touch';
    }

    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    window.addEventListener('load', () => {
      // å¦‚æœå·²ç»éªŒè¯è¿‡å¯†ç ï¼ˆé€šè¿‡localStorageæ ‡è®°ï¼‰ï¼Œç›´æ¥åˆå§‹åŒ–åŠŸèƒ½
      const isAuthenticated = localStorage.getItem('isAuthenticated');
      if (isAuthenticated === 'true') {
        passwordModal.style.display = 'none';
        initFunFeatures();
      } else {
        // æ˜¾ç¤ºå¯†ç éªŒè¯å±‚
        passwordModal.style.display = 'flex';
      }

      // å¯†ç éªŒè¯æˆåŠŸåæ ‡è®°
      enterBtn.addEventListener('click', () => {
        if (passwordInput.value === correctPassword) {
          localStorage.setItem('isAuthenticated', 'true');
        }
      });
    });

    // éŸ³ä¹æ’­æ”¾å™¨ç§»åŠ¨ç«¯ä¼˜åŒ–
    const musicPlayer = document.getElementById('musicPlayer');
    if (musicPlayer) {
      // ç§»åŠ¨ç«¯è‡ªåŠ¨æ’­æ”¾æç¤º
      musicPlayer.addEventListener('error', () => {
        alert('éŸ³é¢‘æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–æ›´æ¢æµè§ˆå™¨');
      });

      // ç§»åŠ¨ç«¯è§¦æ‘¸æ’­æ”¾ä¼˜åŒ–
      musicPlayer.addEventListener('touchend', (e) => {
        e.preventDefault();
        if (musicPlayer.paused) {
          musicPlayer.play().catch(err => {
            console.log('è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨ç‚¹å‡»æ’­æ”¾:', err);
          });
        } else {
          musicPlayer.pause();
        }
      });
    }

    // å…¨å±€ç‚¹å‡»å…³é—­æ‰€æœ‰æ»‘åŠ¨çŠ¶æ€
    document.addEventListener('click', () => {
      const activeItems = document.querySelectorAll('.message-item.swipe-active');
      activeItems.forEach(item => {
        item.classList.remove('swipe-active');
        item.style.transform = 'translateX(0)';
      });
    });

    // ä¼˜åŒ–ç§»åŠ¨ç«¯è§¦æ‘¸æ»šåŠ¨
    document.addEventListener('touchmove', function (e) {
      // é˜²æ­¢è§¦æ‘¸æ»šåŠ¨æ—¶è§¦å‘å…¶ä»–äº‹ä»¶
    }, { passive: true });
    // é¡µé¢åŠ è½½å®Œæˆåˆå§‹åŒ–
    window.addEventListener('load', () => {
      // ç¡®ä¿æ‰€æœ‰DOMå…ƒç´ åŠ è½½å®Œæˆ
      if (passwordInput) {
        passwordInput.focus();
      }
    });
  </script>
</body>

</html>